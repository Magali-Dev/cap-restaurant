{% extends 'base.html.twig' %}

{% block title %}Ajouter une pizza{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1 class="mb-4 text-center text-danger fw-bold">‚ûï Ajouter une pizza</h1>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
    {% for message in app.flashes('danger') %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}

    <div class="card shadow-lg p-4">
        <form method="post" action="{{ path('admin_pizzas_add') }}" enctype="multipart/form-data">
            <div class="row g-3">
                <!-- Nom -->
                <div class="col-md-6">
                    <label for="nom" class="form-label">Nom de la pizza</label>
                    <input type="text" id="nom" name="nom" class="form-control form-control-lg" placeholder="Ex : Margherita" required>
                </div>

                <!-- Prix -->
                <div class="col-md-6">
                    <label for="prix" class="form-label">Prix (‚Ç¨)</label>
                    <input type="number" step="0.01" id="prix" name="prix" class="form-control form-control-lg" placeholder="Ex : 12.50" required>
                </div>

                <!-- Image -->
                <div class="col-md-6">
                    <label for="image" class="form-label">Image de la pizza</label>
                    <input type="file" id="image" name="image" class="form-control" accept="image/*">
                    <small class="text-muted">Formats accept√©s : jpg, png, gif. Taille max : 2MB</small>
                </div>

                <!-- V√©g√©tarien -->
                <div class="col-md-6 d-flex align-items-center mt-4">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="vegetarien" name="vegetarien" value="1">
                        <label class="form-check-label" for="vegetarien">V√©g√©tarien üåø</label>
                    </div>
                </div>

                <!-- Description -->
                <div class="col-12">
                    <label for="description" class="form-label">Description</label>
                    <textarea id="description" name="description" class="form-control" rows="4" placeholder="Ex : Cr√®me de pistaches, pistaches torr√©fi√©es, pesto, mozzarella fior di latte..."></textarea>
                </div>

                <!-- Allerg√®nes -->
                <div class="col-12">
                    <label for="allergenes" class="form-label">Allerg√®nes (s√©par√©s par des virgules)</label>
                    <input type="text" id="allergenes" name="allergenes" class="form-control" placeholder="Ex : Gluten, Lait, Noix">
                </div>
            </div>
            <!-- Boutons -->
            <div class="mt-4 d-flex justify-content-center gap-3">
                <button type="button" onclick="window.location='{{ path('admin_pizzas_index') }}'" class="btn btn-primary btn-lg">
                    Annuler
                </button>
                <button type="submit" class="btn btn-primary btn-lg">Enregistrer</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
